<div class="eqLogic eqLogic-widget"
      style="min-height:150px !important; background-color:#background-color#; color:#color#; #style#"
      data-eqLogic_id="#id#" data-eqLogic_uid="#uid#" data-version="#version#" data-category="#category#">
  <span class="statusCmd"></span>
  <span class="cmd refresh pull-right cursor" data-cmd_id="#refresh_id#">
		<i class="fas fa-sync"></i>
  </span>
  <center class="widget-name" style="#hideEqLogicName#">#name_display#
    <span>#object_name#</span>
  </center>

  <center>
    <span class="cmd cmd-widget" data-type="action" data-subtype="select" data-cmd_id="#set_order_id#" data-version="#version#" data-eqLogic_id="#id#">
        <div><select>#set_order_listValue#</select></div>
    </span>


    <span class="cmd cmd-widget" data-type="action" data-subtype="select" data-cmd_id="#set_program_id#" data-version="#version#" data-eqLogic_id="#id#">
        <div><select>#set_program_listValue#</select></div>
    </span>

    <span data-cmd_id="#last_communication_id#">
      <i class="nature-leaf37"></i>
      #last_communication#
    </span>
  </center>

  <script>
    $('div[data-eqLogic_id="#id#"] select option').filter(function() { return !this.value || $.trim(this.value).length == 0;}).remove();

    $('.eqLogic[data-eqLogic_uid=#uid#] .refresh').on('click', function () {
        jeedom.cmd.execute({id: '#refresh_id#'});
      })

    $(".cmd[data-cmd_id=#set_order_id#] select").on('change', function () {
      jeedom.cmd.execute({id: '#set_order_id#', value: {select: $(this).value()}})
    })

    $(".cmd[data-cmd_id=#set_program_id#] select").on('change', function () {
      jeedom.cmd.execute({id: '#set_program_id#', value: {select: $(this).value()}})
    })
  </script>
</div>
