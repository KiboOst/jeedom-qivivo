<div class="eqLogic eqLogic-widget"
      style="min-height:150px !important; #style#"
      data-eqLogic_id="#id#" data-eqLogic_uid="#uid#" data-version="#version#" data-category="#category#">
  <span class="statusCmd"></span>
  <span class="cmd refresh pull-right cursor" data-cmd_id="#refresh_id#">
		<i class="fas fa-sync"></i>
  </span>
    <center class="widget-name" style="#hideEqLogicName#">#name_display# <span class="object_name">#object_name#</span>
  </center>

  <center>
    <span class="cmd cmd-widget" data-type="action" data-subtype="select" data-cmd_id="#set_order_id#" data-version="#version#" data-eqLogic_id="#id#">
      	<i class="divers-thermometer31" style="font-size:16px;padding-top: 14px;padding-left: 5px;float: left;"></i>
        <select>#set_order_listValue#</select>
    </span>

    <div class="cmd-widget" data-type="action" style="min-width: 20px;margin-bottom:5px">
      <a class="btn qivivo_temperature_order_cancel" style="background-color:transparent !important; background-image:none !important;margin-left:-10px;opacity: #cancel_opacity#;" data-cmd_id="#cancel_id#"><img src="/plugins/qivivo/core/img/icon_cross_dark.png" title="Cancel" width="24px"></a>
    </div>

    <div class="#firmware_version_history#" data-cmd_id="#firmware_version_id#">
      <i class="fa fa-cog"></i> <strong class="state" title="#firmware_version_collectDate#">#firmware_version#</strong>
    </div>
    <span data-cmd_id="#last_communication_id#">
      <i class="nature-leaf37"></i>
      #last_communication#
    </span>
  </center>

  <script>
    $('div[data-eqLogic_id="#id#"] select option').filter(function() { return !this.value || $.trim(this.value).length == 0;}).remove();

    //change theme event handler for images:
    $('body').on('changeThemeEvent', function (event, theme) {
      var eqlogic = $('.eqLogic[data-eqLogic_uid=#uid#]')
      if (theme == 'Light') {
        eqlogic.find('.qivivo_temperature_order_cancel > img').attr('src', '/plugins/qivivo/core/img/icon_cross_light.png')
      } else {
        eqlogic.find('.qivivo_temperature_order_cancel > img').attr('src', '/plugins/qivivo/core/img/icon_cross_dark.png')
      }
    })
    //set icons to light:
    if ($('body')[0].hasAttribute('data-theme')) {
      if ($('body').attr('data-theme').endsWith('Light')) {
        var eqlogic = $('.eqLogic[data-eqLogic_uid=#uid#]')
        eqlogic.find('.qivivo_temperature_order_cancel > img').attr('src', '/plugins/qivivo/core/img/icon_cross_light.png')
      }
    }

    $('.eqLogic[data-eqLogic_uid=#uid#] .refresh').on('click', function () {
        jeedom.cmd.execute({id: '#refresh_id#'});
    })

    $('.eqLogic[data-eqLogic_uid=#uid#] .qivivo_temperature_order_cancel').on('click', function () {
      jeedom.cmd.execute({id: '#cancel_id#'});
    });

    $(".cmd[data-cmd_id=#set_order_id#] select").on('change', function () {
      jeedom.cmd.execute({id: '#set_order_id#', value: {select: $(this).value()}});
    })
  </script>
</div>